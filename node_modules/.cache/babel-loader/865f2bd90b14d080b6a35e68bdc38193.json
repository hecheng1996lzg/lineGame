{"remainingRequest":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js!/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/nihongo/frontend/src/components/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/nihongo/frontend/src/components/login/login.vue","mtime":1552373318492},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/usr/local/var/www/nihongo/frontend/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport blurSrc from '../../assets/images/bg_default.jpg';\nimport Blur from '.././blur/blur';\nimport { login as _login, register as _register } from '../../api/user';\nimport { createUser } from '../../assets/js/userDataTemplet';\nexport default {\n  name: \"login\",\n  data: function data() {\n    return {\n      blurSrc: blurSrc,\n      user: {\n        name: ''\n      },\n      error: ''\n    };\n  },\n  components: {\n    Blur: Blur\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      _login(this.user).then(function (res) {\n        var data = res.data;\n        localStorage.setItem('nihongo', _JSON$stringify(data.data));\n\n        _this.$emit('isLogin');\n\n        _this.$router.push('index');\n      }).catch(function (error) {\n        _this.error = error.response.data.msg;\n      });\n    },\n    register: function register() {\n      var _this2 = this;\n\n      var user = createUser(this.user);\n\n      _register(user).then(function (res) {\n        _this2.user = user;\n\n        _this2.login();\n      }).catch(function (error) {\n        _this2.error = error.response.data.msg;\n      });\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,OAAA,MAAA,oCAAA;AACA,OAAA,IAAA,MAAA,gBAAA;AACA,SAAA,KAAA,IAAA,MAAA,EAAA,QAAA,IAAA,SAAA,QAAA,gBAAA;AACA,SAAA,UAAA,QAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,OADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OAFA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAXA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,MAAA,MAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,SAAA,EAAA,gBAAA,IAAA,CAAA,IAAA,CAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,SAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,OALA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAPA;AAQA,KAVA;AAWA,IAAA,QAXA,sBAWA;AAAA;;AACA,UAAA,IAAA,GAAA,UAAA,CAAA,KAAA,IAAA,CAAA;;AACA,MAAA,SAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,IAAA;;AACA,QAAA,MAAA,CAAA,KAAA;AACA,OAHA,EAGA,KAHA,CAGA,UAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA;AACA,OALA;AAMA;AAnBA;AAdA,CAAA","sourcesContent":["<template>\n  <div id=\"login\" class=\"blur-bg\" :style=\"{backgroundImage: 'url(' + blurSrc + ')'}\">\n    <div class=\"container\">\n      <blur :blurSrc=\"blurSrc\">\n        <form @submit.prevent=\"login\">\n          <div class=\"main\">\n            <h2>登录</h2>\n            <input v-model=\"user.name\" placeholder=\"请输入用户名\" required />\n            <span class=\"sm\">用户名只用于区分每个用户的学习数据。</span>\n            <span v-if=\"error\" class=\"sm fn-color-red\">Error:{{error}}</span>\n            <div class=\"btns\">\n              <button type=\"submit\">登录</button>\n              <button type=\"button\" @click.prevent=\"register\">注册</button>\n            </div>\n          </div>\n        </form>\n      </blur>\n    </div>\n  </div>\n</template>\n\n<script>\n  import blurSrc from '../../assets/images/bg_default.jpg';\n  import Blur from '.././blur/blur';\n  import {login,register} from '../../api/user';\n  import {createUser} from '../../assets/js/userDataTemplet';\n\n  export default {\n    name: \"login\",\n    data() {\n      return {\n        blurSrc,\n        user: {\n          name:''\n        },\n        error:''\n      }\n    },\n    components: {\n      Blur\n    },\n    methods:{\n      login(){\n        login(this.user).then((res)=>{\n          let data = res.data;\n          localStorage.setItem('nihongo',JSON.stringify(data.data));\n          this.$emit('isLogin');\n          this.$router.push('index');\n        }).catch((error)=>{\n          this.error = error.response.data.msg;\n        });\n      },\n      register(){\n        let user = createUser(this.user);\n        register(user).then((res)=>{\n          this.user = user;\n          this.login();\n        }).catch((error)=>{\n          this.error = error.response.data.msg;\n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #login {\n    flex: 1;\n    padding-left: 10px;\n    padding-right: 10px;\n  }\n\n  .container {\n    position: relative;\n    width: 100%;\n    margin: 0 auto;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    margin-top: 30px;\n    padding: 23px;\n  }\n\n  h2{\n    text-align: center;\n    opacity: .6;\n  }\n\n  .btns{\n    display: flex;\n    margin-top: 10px;\n  }\n\n  .btns>button{\n    flex: 1;\n  }\n\n  .btns>button:first-child{\n    margin-right: 10px;\n  }\n\n</style>"],"sourceRoot":"src/components/login"}]}