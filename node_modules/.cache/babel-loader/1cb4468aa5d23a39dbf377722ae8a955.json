{"remainingRequest":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js!/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/nihongo/frontend/src/components/word-list/word-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/nihongo/frontend/src/components/word-list/word-list.vue","mtime":1550250468423},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/usr/local/var/www/nihongo/frontend/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _Map from \"/usr/local/var/www/nihongo/frontend/node_modules/@babel/runtime-corejs2/core-js/map\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\nimport { getCoursesWords } from '../../api/course';\nimport Card from '../card/card';\nimport SimpleProgressBar from '../progress-bar/simple-progress-bar';\nexport default {\n  props: {\n    selectCourses: {\n      type: String\n    }\n  },\n  data: function data() {\n    return {\n      cards: [],\n      rightNum: 0\n    };\n  },\n  computed: {\n    selectCoursesMap: function selectCoursesMap() {\n      return new _Map(JSON.parse(this.selectCourses));\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var user = JSON.parse(localStorage.getItem('nihongo'));\n    getCoursesWords(this.selectCoursesMap).then(function (datas) {\n      datas.forEach(function (course) {\n        course.data.forEach(function (work) {\n          if (user && user.courseData && user.courseData[work.course_id] && user.courseData[work.course_id].complete && user.courseData[work.course_id].complete.indexOf(work.id) !== -1) {\n            return;\n          }\n\n          _this.cards.push({\n            id: work.id,\n            parentId: work.course_id,\n            imgUrl: work.imgUrl,\n            answer: work.kanji,\n            tips: work.chinese,\n            note: work.kana,\n            enter: \"\",\n            enterState: 0\n          });\n        });\n      });\n    });\n  },\n  methods: {\n    right: function right(work) {\n      this.rightNum++;\n      this.addRightWork(work.id, work.parentId);\n    },\n    addRightWork: function addRightWork(id, parentId) {\n      var user = JSON.parse(localStorage.getItem('nihongo'));\n\n      if (user && !user.courseData) {\n        user.courseData = {};\n      }\n\n      if (!user.courseData[parentId]) {\n        user.courseData[parentId] = {\n          state: 0,\n          date: new Date(),\n          complete: []\n        };\n      }\n\n      if (user && user.courseData && user.courseData[parentId] && user.courseData[parentId].complete && user.courseData[parentId].complete.indexOf(id) === -1) {\n        user.courseData[parentId].complete.push(id);\n        console.log(1);\n      }\n\n      localStorage.setItem('nihongo', _JSON$stringify(user));\n    }\n  },\n  components: {\n    Card: Card,\n    SimpleProgressBar: SimpleProgressBar\n  }\n};",{"version":3,"sources":["word-list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"word-list\">\n    <simple-progress-bar :value=\"rightNum\" :max=\"cards.length\" class=\"simple-progress-bar\"></simple-progress-bar>\n    <card :cards=\"cards\" @right=\"right\" class=\"card\"></card>\n  </div>\n</template>\n\n<script>\n  import {getCoursesWords} from '../../api/course';\n  import Card from '../card/card';\n  import SimpleProgressBar from '../progress-bar/simple-progress-bar';\n\n  export default {\n    props: {\n      selectCourses: {\n        type: String\n      },\n    },\n    data() {\n      return {\n        cards: [],\n        rightNum:0\n      }\n    },\n    computed: {\n      selectCoursesMap() {\n        return new Map(JSON.parse(this.selectCourses));\n      }\n    },\n    mounted() {\n      let user = JSON.parse(localStorage.getItem('nihongo'));\n      getCoursesWords(this.selectCoursesMap).then((datas) => {\n        datas.forEach((course) => {\n          course.data.forEach((work) => {\n            if (user\n              && user.courseData\n              && user.courseData[work.course_id]\n              && user.courseData[work.course_id].complete\n              && user.courseData[work.course_id].complete.indexOf(work.id) !== -1) {\n              return;\n            }\n            this.cards.push({\n              id: work.id,\n              parentId: work.course_id,\n              imgUrl: work.imgUrl,\n              answer: work.kanji,\n              tips: work.chinese,\n              note: work.kana,\n              enter: \"\",\n              enterState:0\n            });\n          });\n        });\n      });\n    },\n    methods:{\n      right(work){\n        this.rightNum++;\n        this.addRightWork(work.id,work.parentId);\n      },\n      addRightWork(id,parentId){\n        let user = JSON.parse(localStorage.getItem('nihongo'));\n        if(user\n          && !user.courseData){\n          user.courseData = {};\n        }\n        if(!user.courseData[parentId]){\n          user.courseData[parentId] = {\n            state:0,\n            date:new Date(),\n            complete:[]\n          };\n        }\n        if (user\n          && user.courseData\n          && user.courseData[parentId]\n          && user.courseData[parentId].complete\n          && user.courseData[parentId].complete.indexOf(id) === -1) {\n          user.courseData[parentId].complete.push(id);\n          console.log(1);\n        }\n        localStorage.setItem('nihongo',JSON.stringify(user));\n      }\n    },\n    components: {\n      Card,\n      SimpleProgressBar\n    }\n  }\n</script>\n\n<style scoped>\n  .word-list {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n  }\n\n  .simple-progress-bar{\n    position: absolute;\n    z-index: 1;\n    width: 100%;\n  }\n\n  .card {\n    flex: 1;\n  }\n\n</style>"],"sourceRoot":"src/components/word-list"}]}