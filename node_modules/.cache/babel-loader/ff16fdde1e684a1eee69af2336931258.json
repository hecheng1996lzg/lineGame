{"remainingRequest":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js!/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/nihongo/frontend/src/components/kana/kana.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/nihongo/frontend/src/components/kana/kana.vue","mtime":1552376307122},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport blurSrc from '../../assets/images/ero1.jpg';\nimport Blur from '.././blur/blur';\nexport default {\n  name: \"kana\",\n  data: function data() {\n    return {\n      blurSrc: blurSrc,\n      gameTimer: null,\n      gameTime: 0,\n      gameScore: 0,\n      gameX: 1,\n      gameXPrevTimer: null,\n      gameXAnState: 0 // 连击倒计时动画\n\n    };\n  },\n  computed: {\n    itemScore: function itemScore() {\n      return 10 * this.gameX;\n    }\n  },\n  methods: {\n    gameInit: function gameInit() {\n      window.clearInterval(this.gameTimer);\n      window.clearInterval(this.gameXPrevTimer);\n      this.gameTime = 0;\n      this.gameScore = 0;\n      this.gameX = 1;\n      this.gameXAnState = 0;\n      this.gameTimer = null;\n      this.gameXPrevTimer = null;\n    },\n    gameStart: function gameStart() {\n      var _this = this;\n\n      this.gameInit();\n      this.gameTimer = window.setInterval(function () {\n        _this.gameTime++;\n      }, 1000);\n    },\n    gameItemComplete: function gameItemComplete(gameState) {\n      var _this2 = this;\n\n      this.gameScore += this.itemScore;\n      this.gameX += 0.1;\n      this.gameX = this.gameX.toFixed(1) - 0;\n      window.clearTimeout(this.gameXPrevTimer);\n      this.gameXPrevTimer = window.setTimeout(function () {\n        _this2.gameX = 1;\n      }, 10000);\n      this.gameXAnState = this.gameXAnState === 1 ? 2 : 1;\n\n      if (gameState) {\n        this.$router.push({\n          name: 'rank',\n          params: {\n            score: this.gameScore,\n            time: this.gameTime\n          }\n        });\n      }\n    }\n  },\n  components: {\n    Blur: Blur\n  }\n};",{"version":3,"sources":["kana.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,OAAA,MAAA,8BAAA;AACA,OAAA,IAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,OADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA,CAHA;AAIA,MAAA,SAAA,EAAA,CAJA;AAKA,MAAA,KAAA,EAAA,CALA;AAMA,MAAA,cAAA,EAAA,IANA;AAOA,MAAA,YAAA,EAAA,CAPA,CAOA;;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA,KAAA,KAAA,KAAA;AACA;AAHA,GAbA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,MAAA,MAAA,CAAA,aAAA,CAAA,KAAA,SAAA;AACA,MAAA,MAAA,CAAA,aAAA,CAAA,KAAA,cAAA;AACA,WAAA,QAAA,GAAA,CAAA;AACA,WAAA,SAAA,GAAA,CAAA;AACA,WAAA,KAAA,GAAA,CAAA;AACA,WAAA,YAAA,GAAA,CAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,SAXA,uBAWA;AAAA;;AACA,WAAA,QAAA;AACA,WAAA,SAAA,GAAA,MAAA,CAAA,WAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,QAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA,KAhBA;AAiBA,IAAA,gBAjBA,4BAiBA,SAjBA,EAiBA;AAAA;;AACA,WAAA,SAAA,IAAA,KAAA,SAAA;AAEA,WAAA,KAAA,IAAA,GAAA;AACA,WAAA,KAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CAAA;AACA,MAAA,MAAA,CAAA,YAAA,CAAA,KAAA,cAAA;AACA,WAAA,cAAA,GAAA,MAAA,CAAA,UAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,CAAA;AACA,OAFA,EAEA,KAFA,CAAA;AAGA,WAAA,YAAA,GAAA,KAAA,YAAA,KAAA,CAAA,GAAA,CAAA,GAAA,CAAA;;AACA,UAAA,SAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,MAAA,EAAA;AAAA,YAAA,KAAA,EAAA,KAAA,SAAA;AAAA,YAAA,IAAA,EAAA,KAAA;AAAA;AAFA,SAAA;AAIA;AACA;AAjCA,GAlBA;AAqDA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA;AArDA,CAAA","sourcesContent":["<template>\n  <div id=\"kana\" class=\"blur-bg\">\n    <blur id=\"blur\" :blurSrc=\"blurSrc\" :bR=\"'0px'\" :blurValue=\"9\" :bS=\"'none'\">\n      <ul class=\"info\">\n        <li class=\"info-circle bg-color-red\">\n          <h2>{{gameTime}}s</h2>\n          <span>时间</span>\n        </li>\n        <li class=\"info-circle bg-color-blue\">\n          <h2>{{gameScore}}</h2>\n          <span>分数</span>\n        </li>\n        <li class=\"info-circle bg-color-green\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"svg-circle\" width=\"84\" height=\"84\">\n            <circle class=\"circle\"  cx=\"42\" cy=\"42\" r=\"41\" style=\"position: absolute\"/>\n            <circle class=\"circle\" :class=\"{start:gameXAnState===1,restart:gameXAnState===2}\" cx=\"42\" cy=\"42\" r=\"41\"\n                    stroke=\"rgb(51, 210, 145)\" stroke-linecap=\"round\"\n                    stroke-width=\"2\" fill=\"rgba(0,0,0,0)\" transform=\"rotate(-90 42 42)\"/>\n          </svg>\n          <h2>{{gameX}}x</h2>\n          <span>倍率</span>\n        </li>\n      </ul>\n    </blur>\n    <div class=\"main\">\n      <transition name=\"fade\" mode=\"out-in\">\n        <router-view :blurSrc=\"blurSrc\" class=\"main-content\" @gameStart=\"gameStart\"\n                     @gameItemComplete=\"gameItemComplete\" @gameInit=\"gameInit\"></router-view>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\n  import blurSrc from '../../assets/images/ero1.jpg';\n  import Blur from '.././blur/blur';\n\n  export default {\n    name: \"kana\",\n    data() {\n      return {\n        blurSrc,\n        gameTimer: null,\n        gameTime: 0,\n        gameScore: 0,\n        gameX: 1,\n        gameXPrevTimer: null,\n        gameXAnState: 0           // 连击倒计时动画\n      }\n    },\n    computed: {\n      itemScore() {\n        return 10 * this.gameX;\n      }\n    },\n    methods: {\n      gameInit(){\n        window.clearInterval(this.gameTimer);\n        window.clearInterval(this.gameXPrevTimer);\n        this.gameTime = 0;\n        this.gameScore = 0;\n        this.gameX = 1;\n        this.gameXAnState = 0;\n        this.gameTimer = null;\n        this.gameXPrevTimer = null;\n      },\n      gameStart() {\n        this.gameInit();\n        this.gameTimer = window.setInterval(() => {\n          this.gameTime++;\n        }, 1000);\n      },\n      gameItemComplete(gameState) {\n        this.gameScore += this.itemScore;\n\n        this.gameX += 0.1;\n        this.gameX = this.gameX.toFixed(1) - 0;\n        window.clearTimeout(this.gameXPrevTimer);\n        this.gameXPrevTimer = window.setTimeout(() => {\n          this.gameX = 1;\n        }, 10000);\n        this.gameXAnState = this.gameXAnState === 1 ? 2 : 1;\n        if(gameState){\n          this.$router.push({\n            name: 'rank',\n            params: {score: this.gameScore, time: this.gameTime}\n          });\n        }\n      }\n    },\n    components: {\n      Blur\n    }\n  }\n</script>\n\n<style scoped>\n  #kana {\n    flex: 1;\n    background-image: url(\"../../assets/images/ero1.jpg\");\n  }\n\n  #blur {\n    box-shadow: none;\n  }\n\n  .info {\n    display: flex;\n    justify-content: center;\n    padding: 10px;\n    background: rgba(255, 255, 255, .3);\n  }\n\n  .info-circle {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    overflow: hidden;\n    width: 80px;\n    height: 80px;\n    margin: 6px;\n    border: 2px solid rgba(255, 255, 255, 1);\n    border-radius: 50%;\n    text-align: center;\n  }\n\n  .info-circle.bg-color-green {\n    width: 84px;\n    height: 84px;\n    border: none;\n  }\n\n  .info-circle > h2 {\n    margin-bottom: 3px;\n    color: #fff;\n  }\n\n  .info-circle > span {\n    width: 100%;\n    background: white;\n  }\n\n  .info-circle:nth-of-type(1) > span {\n    color: rgb(225, 20, 127);\n  }\n\n  .info-circle:nth-of-type(2) > span {\n    color: rgb(2, 166, 288);\n  }\n\n  .info-circle:nth-of-type(3) > span {\n    color: rgb(51, 210, 145);\n  }\n\n  .svg-circle {\n    position: absolute;\n  }\n\n  .main {\n    margin: 10px;\n  }\n\n  .fade-enter-to, .fade-leave {\n    transform: translateY(0px) scale(1);\n    opacity: 1;\n  }\n\n  .fade-enter-active, .fade-leave-active {\n    transition: all .3s;\n  }\n\n  .fade-enter, .fade-leave-to {\n    transform: translateY(-20px) scale(.95);\n    opacity: 0;\n  }\n\n  @keyframes start {\n    0% {\n      stroke-dashoffset: 0;\n    }\n    100% {\n      stroke-dashoffset: 257.48;\n    }\n  }\n\n  @keyframes restart {\n    0% {\n      stroke-dashoffset: 0;\n    }\n    100% {\n      stroke-dashoffset: 257.48;\n    }\n  }\n\n  .circle {\n    stroke: rgba(255, 255, 2555, 1);\n    stroke-width: 2;\n    fill: none;\n    stroke-dasharray: 257.48;\n    stroke-dashoffset: 0;\n  }\n\n  .circle.start {\n    stroke: rgba(30, 117, 81, 0.5);\n    animation: start 10s linear;\n    animation-fill-mode: forwards;\n  }\n\n  .circle.restart {\n    stroke: rgba(30, 117, 81, 0.5);\n    animation: restart 10s linear;\n    animation-fill-mode: forwards;\n  }\n</style>"],"sourceRoot":"src/components/kana"}]}