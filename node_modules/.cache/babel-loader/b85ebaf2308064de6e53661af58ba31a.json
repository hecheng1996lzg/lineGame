{"remainingRequest":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js!/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/nihongo/frontend/src/components/blur/blur2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/nihongo/frontend/src/components/blur/blur2.vue","mtime":1549207315786},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as StackBlur from 'stackblur-canvas';\n/**\n * 如果太多个窗口的话。\n * 为了节省资源，需要一些智障的操作，步骤如下：\n * 1. 给父组件设置blurFlag属性（默认设Null|False）\n * 2. 父组件组册setBlurImg事件\n * 3. 在setBlurImg中接收第一个转换完成的base64，并调用需要窗口的setBase64方法，传入接收到的base64。\n * */\n\nexport default {\n  name: \"blur\",\n  props: {\n    blurSrc: {\n      type: String\n    },\n    bR: {\n      type: String,\n      default: '10px'\n    }\n  },\n  data: function data() {\n    return {\n      blurImg: ''\n    };\n  },\n  mounted: function mounted() {\n    // 是否只有一个\n    if (this.$parent.blurFlag !== undefined) {\n      // 多个，判断是否是第一个\n      if (!this.$parent.blurFlag) {\n        this.$parent.blurFlag = true;\n        this.initBase64(this.$parent.blurFlag);\n      }\n    } else {\n      // 单个\n      this.initBase64();\n    }\n  },\n  methods: {\n    initBase64: function initBase64(blurFlag) {\n      var _this = this;\n\n      var img = new Image();\n      img.src = this.blurSrc;\n\n      img.onload = function () {\n        _this.$refs.blurCanvas.width = img.width;\n        _this.$refs.blurCanvas.height = img.height;\n        StackBlur.image(img, _this.$refs.blurCanvas, 30);\n        _this.blurImg = _this.$refs.blurCanvas.toDataURL();\n\n        if (blurFlag) {\n          _this.$emit('setBlurImg', _this.blurImg);\n        }\n      };\n    },\n    setBase64: function setBase64(base64) {\n      this.blurImg = base64;\n    }\n  }\n};",{"version":3,"sources":["blur2.vue"],"names":[],"mappings":";;;;;;;;;;;AAYA,OAAA,KAAA,SAAA,MAAA,kBAAA;AAEA;;;;;;;;AAOA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAJA,GAFA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GAfA;AAgBA,EAAA,OAhBA,qBAgBA;AACA;AACA,QAAA,KAAA,OAAA,CAAA,QAAA,KAAA,SAAA,EAAA;AACA;AACA,UAAA,CAAA,KAAA,OAAA,CAAA,QAAA,EAAA;AACA,aAAA,OAAA,CAAA,QAAA,GAAA,IAAA;AACA,aAAA,UAAA,CAAA,KAAA,OAAA,CAAA,QAAA;AACA;AACA,KANA,MAMA;AACA;AACA,WAAA,UAAA;AACA;AACA,GA5BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,QADA,EACA;AAAA;;AACA,UAAA,GAAA,GAAA,IAAA,KAAA,EAAA;AACA,MAAA,GAAA,CAAA,GAAA,GAAA,KAAA,OAAA;;AACA,MAAA,GAAA,CAAA,MAAA,GAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,MAAA,GAAA,GAAA,CAAA,MAAA;AACA,QAAA,SAAA,CAAA,KAAA,CAAA,GAAA,EAAA,KAAA,CAAA,KAAA,CAAA,UAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,SAAA,EAAA;;AACA,YAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,YAAA,EAAA,KAAA,CAAA,OAAA;AACA;AACA,OARA;AASA,KAbA;AAcA,IAAA,SAdA,qBAcA,MAdA,EAcA;AACA,WAAA,OAAA,GAAA,MAAA;AACA;AAhBA;AA7BA,CAAA","sourcesContent":["<template>\n  <div id=\"blur\">\n    <div class=\"blur-bg\" :style=\"{backgroundImage: 'url(' + blurImg + ')',borderRadius:bR}\">\n        <canvas class=\"res\" ref=\"blurCanvas\"></canvas>\n    </div>\n    <div class=\"blur-content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n  import * as StackBlur from 'stackblur-canvas';\n\n  /**\n   * 如果太多个窗口的话。\n   * 为了节省资源，需要一些智障的操作，步骤如下：\n   * 1. 给父组件设置blurFlag属性（默认设Null|False）\n   * 2. 父组件组册setBlurImg事件\n   * 3. 在setBlurImg中接收第一个转换完成的base64，并调用需要窗口的setBase64方法，传入接收到的base64。\n   * */\n  export default {\n    name: \"blur\",\n    props: {\n      blurSrc: {\n        type: String,\n      },\n      bR: {\n        type: String,\n        default: '10px'\n      }\n    },\n    data() {\n      return {\n        blurImg: '',\n      }\n    },\n    mounted() {\n      // 是否只有一个\n      if(this.$parent.blurFlag!==undefined){\n        // 多个，判断是否是第一个\n        if(!this.$parent.blurFlag){\n          this.$parent.blurFlag = true;\n          this.initBase64(this.$parent.blurFlag);\n        }\n      }else{\n        // 单个\n        this.initBase64();\n      }\n    },\n    methods:{\n      initBase64(blurFlag){\n        let img = new Image();\n        img.src = this.blurSrc;\n        img.onload = ()=> {\n          this.$refs.blurCanvas.width = img.width;\n          this.$refs.blurCanvas.height = img.height;\n          StackBlur.image(img, this.$refs.blurCanvas, 30);\n          this.blurImg = this.$refs.blurCanvas.toDataURL();\n          if(blurFlag) {\n            this.$emit('setBlurImg',this.blurImg);\n          }\n        }\n      },\n      setBase64(base64){\n        this.blurImg = base64;\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #blur{\n    position: relative;\n  }\n  .blur-bg{\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-position: center top;\n    background-size: cover;\n    background-attachment: fixed;\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);\n  }\n  .res {\n    display: none;\n  }\n  .blur-content{\n    position: relative;\n  }\n</style>"],"sourceRoot":"src/components/blur"}]}