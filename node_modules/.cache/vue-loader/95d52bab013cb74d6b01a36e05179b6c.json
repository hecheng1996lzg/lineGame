{"remainingRequest":"/usr/local/var/www/nihongo/lineGame/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/nihongo/lineGame/src/components/blur/blur.vue?vue&type=style&index=0&id=480f7286&scoped=true&lang=css&","dependencies":[{"path":"/usr/local/var/www/nihongo/lineGame/src/components/blur/blur.vue","mtime":1551839156508},{"path":"/usr/local/var/www/nihongo/lineGame/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/lineGame/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/lineGame/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/lineGame/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/lineGame/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.blur {\n  position: relative;\n}\n\n.blur-bg {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-position: center top;\n  background-size: cover;\n  background-attachment: fixed;\n}\n\n.res {\n  display: none;\n}\n\n.blur-content {\n  position: relative;\n}\n",{"version":3,"sources":["blur.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"blur.vue","sourceRoot":"src/components/blur","sourcesContent":["<template>\n  <div id=\"blur\" class=\"blur\">\n    <div class=\"blur-bg\" :style=\"{backgroundImage: 'url(' + blurImg + ')',borderRadius:bR,boxShadow:bS}\">\n      <canvas class=\"res\" ref=\"blurCanvas\"></canvas>\n    </div>\n    <div class=\"blur-content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n  import * as StackBlur from 'stackblur-canvas';\n\n  /**\n   * 如果太多个窗口的话。\n   * 为了节省资源，需要一些智障的操作，步骤如下：\n   * 1. 给父组件设置blurFlag属性（默认设Null|False）\n   * 2. 父组件组册setBlurImg事件\n   * 3. 在setBlurImg中接收第一个转换完成的base64，并调用需要窗口的setBase64方法，传入接收到的base64。\n   * */\n  export default {\n    name: \"blur\",\n    props: {\n      blurSrc: {\n        type: String,\n      },\n      bR: {\n        type: String,\n        default: '10px'\n      },\n      bS: {\n        type: String,\n        default: '0 10px 20px rgba(0, 0, 0, 0.3)',\n      },\n      blurValue: {\n        type: Number,\n        default: 20\n      },\n    },\n    data() {\n      return {\n        blurImg: '',\n      }\n    },\n    mounted() {\n      // 是否只有一个\n      if (this.$parent.blurFlag !== undefined) {\n        // 多个，判断是否是第一个\n        if (!this.$parent.blurFlag) {\n          this.$parent.blurFlag = true;\n          this.initBase64(this.$parent.blurFlag);\n        }\n      } else {\n        // 单个\n        this.initBase64();\n      }\n    },\n    methods: {\n      initBase64(blurFlag) {\n        let img = new Image();\n        img.src = this.blurSrc;\n        img.onload = () => {\n          this.$refs.blurCanvas.width = img.width;\n          this.$refs.blurCanvas.height = img.height;\n          StackBlur.image(img, this.$refs.blurCanvas, this.blurValue);\n          this.blurImg = this.$refs.blurCanvas.toDataURL();\n          if (blurFlag) {\n            this.$emit('setBlurImg', this.blurImg);\n          }\n        }\n      },\n      setBase64(base64) {\n        this.blurImg = base64;\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .blur {\n    position: relative;\n  }\n\n  .blur-bg {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-position: center top;\n    background-size: cover;\n    background-attachment: fixed;\n  }\n\n  .res {\n    display: none;\n  }\n\n  .blur-content {\n    position: relative;\n  }\n</style>"]}]}