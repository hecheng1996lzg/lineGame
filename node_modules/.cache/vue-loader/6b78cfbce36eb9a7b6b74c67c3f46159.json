{"remainingRequest":"/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/nihongo/frontend/src/components/kana/rank/rank.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/nihongo/frontend/src/components/kana/rank/rank.vue","mtime":1552455477894},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Blur from '../../blur/blur';\nimport {rank} from '../../../api/user';\n\nexport default {\n  name: \"rank\",\n  props: {\n    blurSrc: {\n      type: String\n    },\n    score: 0,\n    time: 0,\n  },\n  data() {\n    return {\n      ranks: [],\n      rank: [],\n      player: null,\n    }\n  },\n  components: {\n    Blur\n  },\n  mounted() {\n    let user = JSON.parse(localStorage.getItem('nihongo'));\n    rank(user.id, this.score, this.time).then((res) => {\n      this.ranks = res.data.data;\n      if (!res.data.mate.player.flag) {\n        this.rank = res.data.mate.player.rank;\n      }\n      this.player = res.data.mate.player.rank[0];\n      console.log(this.ranks,this.player);\n    });\n    this.$emit('gameInit');\n  },\n  computed: {\n    put0() {\n      return (num) => {\n        return num < 10 ? '0' + num : num;\n      }\n    }\n  }\n}\n",{"version":3,"sources":["rank.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"rank.vue","sourceRoot":"src/components/kana/rank","sourcesContent":["<template>\n  <blur :blurSrc=\"blurSrc\" :blurValue=\"30\">\n    <div class=\"rank\">\n      <h2>排行榜</h2>\n      <table class=\"rank-container\">\n        <thead>\n        <tr>\n          <th width=\"16%\">名次</th>\n          <th>昵称</th>\n          <th>分数</th>\n          <th>时间</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"item in ranks\" :key=\"item.index\" :class=\"{active:item.id===player.id}\">\n          <td><span>{{ put0(item.place) }}</span></td>\n          <td><span>{{item.name}}</span></td>\n          <td><span>{{item.score}}</span></td>\n          <td><span>{{item.time}}</span></td>\n        </tr>\n        <tr v-if=\"rank.length\" class=\"active\">\n          <td width=\"16%\"><span>{{put0(rank[0].place)}}</span></td>\n          <td><span>{{rank[0].name}}</span></td>\n          <td><span>{{rank[0].score}}</span></td>\n          <td><span>{{rank[0].time}}</span></td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </blur>\n</template>\n\n<script>\n  import Blur from '../../blur/blur';\n  import {rank} from '../../../api/user';\n\n  export default {\n    name: \"rank\",\n    props: {\n      blurSrc: {\n        type: String\n      },\n      score: 0,\n      time: 0,\n    },\n    data() {\n      return {\n        ranks: [],\n        rank: [],\n        player: null,\n      }\n    },\n    components: {\n      Blur\n    },\n    mounted() {\n      let user = JSON.parse(localStorage.getItem('nihongo'));\n      rank(user.id, this.score, this.time).then((res) => {\n        this.ranks = res.data.data;\n        if (!res.data.mate.player.flag) {\n          this.rank = res.data.mate.player.rank;\n        }\n        this.player = res.data.mate.player.rank[0];\n        console.log(this.ranks,this.player);\n      });\n      this.$emit('gameInit');\n    },\n    computed: {\n      put0() {\n        return (num) => {\n          return num < 10 ? '0' + num : num;\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .rank {\n    display: flex;\n    flex-direction: column;\n    padding: 20px 10px;\n  }\n\n  h2 {\n    text-align: center;\n    color: #333;\n  }\n\n  .rank-container {\n    color: #333;\n  }\n\n  .rank-container th {\n    font-weight: initial;\n    padding-bottom: 3px;\n  }\n\n  .rank-container > thead > tr > th:nth-of-type(n+2) {\n    text-align: left;\n    text-indent: 2ch;\n  }\n\n  .rank-container > tbody > tr > td {\n    padding: 5px 0 3px;\n  }\n\n  .rank-container > tbody > tr > td:nth-of-type(1) {\n    text-align: center;\n  }\n\n  .rank-container > tbody > tr > td:nth-of-type(n+2) {\n    text-indent: 2ch;\n  }\n\n  .rank-container {\n    border-collapse: collapse;\n  }\n\n  .rank-container > thead > tr {\n    border-bottom: 1px solid rgba(255, 255, 255, .8);\n  }\n\n  .rank-container > tbody > tr.active {\n    background: rgba(255, 255, 255, .3);\n  }\n\n</style>"]}]}