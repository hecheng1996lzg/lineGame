{"remainingRequest":"/usr/local/var/www/nihongo/lineGame/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/nihongo/lineGame/src/components/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/nihongo/lineGame/src/components/login/login.vue","mtime":1581657714872},{"path":"/usr/local/var/www/nihongo/lineGame/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/lineGame/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/nihongo/lineGame/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport blurSrc from '../../assets/images/bg_default.jpg';\nimport Blur from '.././blur/blur';\nimport {login,register} from '../../api/user';\nimport {createUser} from '../../assets/js/userDataTemplet';\n\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      blurSrc,\n      user: {\n        name:''\n      },\n      error:''\n    }\n  },\n  components: {\n    Blur\n  },\n  methods:{\n    login(){\n      let data = this.user;\n      localStorage.setItem('nihongo',JSON.stringify(data));\n      this.$emit('isLogin');\n      this.$router.push('index');\n    },\n    register(){\n      let user = createUser(this.user);\n      register(user).then((res)=>{\n        this.user = user;\n        this.login();\n      }).catch((error)=>{\n        this.error = error.response.data.msg;\n      });\n    }\n  }\n}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components/login","sourcesContent":["<template>\n  <div id=\"login\" class=\"blur-bg\" :style=\"{backgroundImage: 'url(' + blurSrc + ')'}\">\n    <div class=\"container\">\n      <blur :blurSrc=\"blurSrc\">\n        <form @submit.prevent=\"login\">\n          <div class=\"main\">\n            <h2>登录</h2>\n            <input v-model=\"user.name\" placeholder=\"请输入用户名\" required />\n            <span class=\"sm\">用户名只用于区分每个用户的学习数据。</span>\n            <span v-if=\"error\" class=\"sm fn-color-red\">Error:{{error}}</span>\n            <div class=\"btns\">\n              <button type=\"submit\">登录</button>\n              <button type=\"button\" @click.prevent=\"register\">注册</button>\n            </div>\n          </div>\n        </form>\n      </blur>\n    </div>\n  </div>\n</template>\n\n<script>\n  import blurSrc from '../../assets/images/bg_default.jpg';\n  import Blur from '.././blur/blur';\n  import {login,register} from '../../api/user';\n  import {createUser} from '../../assets/js/userDataTemplet';\n\n  export default {\n    name: \"login\",\n    data() {\n      return {\n        blurSrc,\n        user: {\n          name:''\n        },\n        error:''\n      }\n    },\n    components: {\n      Blur\n    },\n    methods:{\n      login(){\n        let data = this.user;\n        localStorage.setItem('nihongo',JSON.stringify(data));\n        this.$emit('isLogin');\n        this.$router.push('index');\n      },\n      register(){\n        let user = createUser(this.user);\n        register(user).then((res)=>{\n          this.user = user;\n          this.login();\n        }).catch((error)=>{\n          this.error = error.response.data.msg;\n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #login {\n    flex: 1;\n    padding-left: 10px;\n    padding-right: 10px;\n  }\n\n  .container {\n    position: relative;\n    width: 100%;\n    margin: 0 auto;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    margin-top: 30px;\n    padding: 23px;\n  }\n\n  h2{\n    text-align: center;\n    opacity: .6;\n  }\n\n  .btns{\n    display: flex;\n    margin-top: 10px;\n  }\n\n  .btns>button{\n    flex: 1;\n  }\n\n  .btns>button:first-child{\n    margin-right: 10px;\n  }\n\n</style>"]}]}